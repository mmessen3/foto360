<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Reserva tu estad√≠a</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      margin: 20px;
      background: #f9f9f9;
    }

    h1 {
      margin-bottom: 10px;
    }

    .calendario {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      max-width: 600px;
      margin: 20px auto;
    }

    .dia, .semana {
      background-color: white;
      border: 1px solid #ccc;
      padding: 5px;
      height: 80px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      border-radius: 6px;
      cursor: pointer;
    }

    .dia.seleccionado {
      background-color: #cce5ff;
      border-color: #007bff;
    }

    .dia.rango {
      background-color: #e7f0ff;
    }

    .dia.ocupado {
      background-color: #eee;
      color: #aaa;
      pointer-events: none;
    }

    .numero {
      font-weight: bold;
    }

    .precio {
      font-size: 14px;
      color: #007bff;
    }

    .semana {
      background: #ddd;
      font-weight: bold;
      height: auto;
    }

    #resumen {
      margin-top: 20px;
      font-size: 16px;
    }

    button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #007bff;
      border: none;
      border-radius: 6px;
      color: white;
      cursor: pointer;
    }

    button:disabled {
      background-color: #ccc;
    }
  </style>
</head>
<body>

  <h1>Reserva tu estad√≠a ‚Äì Agosto 2025</h1>

  <div class="calendario" id="calendario"></div>

  <div id="resumen"></div>
  <button id="reservarBtn" disabled onclick="reservar()">Reservar ahora</button>

  <script>
    const diasDelMes = 31;
    const primerDiaSemana = 5; // viernes 1 de agosto 2025
    const precios = {
      1: 70000, 2: 70000, 3: 65000, 4: 65000, 5: 65000,
      6: 80000, 7: 80000, 8: 70000, 9: 70000, 10: 70000,
      11: 68000, 12: 68000, 13: 75000, 14: 75000,
      15: 90000, 16: 90000, 17: 75000, 18: 75000,
      22: 90000, 23: 90000, 24: 70000
    };
    const diasOcupados = [4, 5, 6, 20, 21, 22];

    let checkin = null;
    let checkout = null;

    const contenedor = document.getElementById('calendario');
    const resumen = document.getElementById('resumen');
    const reservarBtn = document.getElementById('reservarBtn');

    const diasSemana = ['Dom', 'Lun', 'Mar', 'Mi√©', 'Jue', 'Vie', 'S√°b'];
    diasSemana.forEach(d => {
      const div = document.createElement('div');
      div.className = 'semana';
      div.innerText = d;
      contenedor.appendChild(div);
    });

    for (let i = 0; i < primerDiaSemana; i++) {
      contenedor.appendChild(document.createElement('div'));
    }

    for (let dia = 1; dia <= diasDelMes; dia++) {
      const div = document.createElement('div');
      div.className = 'dia';
      if (diasOcupados.includes(dia)) div.classList.add('ocupado');
      div.dataset.dia = dia;

      const numero = document.createElement('div');
      numero.className = 'numero';
      numero.innerText = dia;

      const precio = document.createElement('div');
      precio.className = 'precio';
      precio.innerText = precios[dia] ? `$${precios[dia].toLocaleString('es-CL')}` : '';

      div.appendChild(numero);
      div.appendChild(precio);
      contenedor.appendChild(div);

      div.addEventListener('click', () => seleccionarFecha(dia));
    }

    function seleccionarFecha(dia) {
      if (!checkin || (checkin && checkout)) {
        checkin = dia;
        checkout = null;
      } else if (dia > checkin) {
        checkout = dia;
      } else {
        checkin = dia;
        checkout = null;
      }
      renderSeleccion();
    }

    function renderSeleccion() {
      const dias = document.querySelectorAll('.dia');
      dias.forEach(d => {
        const dnum = parseInt(d.dataset.dia);
        d.classList.remove('seleccionado', 'rango');
        if (dnum === checkin || dnum === checkout) d.classList.add('seleccionado');
        if (checkin && checkout && dnum > checkin && dnum < checkout) d.classList.add('rango');
      });

      if (checkin && checkout) {
        let total = 0;
        let valid = true;
        for (let d = checkin; d < checkout; d++) {
          if (diasOcupados.includes(d)) valid = false;
          total += precios[d] || 0;
        }

        if (!valid) {
          resumen.innerText = "‚ö†Ô∏è Hay fechas no disponibles en el rango seleccionado.";
          reservarBtn.disabled = true;
        } else {
          resumen.innerText = `Reserva del ${checkin} al ${checkout} de agosto.\nTotal: $${total.toLocaleString("es-CL")}`;
          reservarBtn.disabled = false;
        }
      } else {
        resumen.innerText = '';
        reservarBtn.disabled = true;
      }
    }

    function reservar() {
      alert(`Reserva confirmada del ${checkin} al ${checkout} de agosto üèñÔ∏è`);
      // Aqu√≠ puedes redirigir a WhatsApp o enviar datos a un servidor
    }
  </script>

</body>
</html>


